<!-- Let PDS control backgrounds - remove Storybook's white background override -->
<style>
  /* Don't override background at all - let PDS utilities layer apply mesh backgrounds via body rule */
  /* Only set text color to use PDS variable */
  body.sb-show-main,
  .sb-show-main {
    color: var(--color-text-primary) !important;
  }
  
  /* Ensure story container inherits PDS styles */
  #storybook-root {
    background: transparent;
    color: inherit;
  }
</style>

<script>
  // Remove Storybook's injected background styles that override PDS
  const observer = new MutationObserver(() => {
    const styleEls = document.querySelectorAll('style');
    styleEls.forEach(style => {
      if (style.textContent.includes('.sb-show-main') && 
          style.textContent.includes('background') && 
          style.textContent.includes('#ffffff')) {
        console.log('ðŸ§¹ Removing Storybook background override:', style.textContent.substring(0, 100));
        style.remove();
      }
    });
  });
  
  observer.observe(document.documentElement, {
    childList: true,
    subtree: true
  });
  
  // Initial cleanup
  setTimeout(() => {
    const styleEls = document.querySelectorAll('style');
    styleEls.forEach(style => {
      if (style.textContent.includes('.sb-show-main') && 
          style.textContent.includes('background') && 
          style.textContent.includes('#ffffff')) {
        console.log('ðŸ§¹ Initial cleanup - removing:', style.textContent.substring(0, 100));
        style.remove();
      }
    });
  }, 100);
</script>
