<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schema Form Actions Demo</title>
  <link rel="stylesheet" href="assets/css/auto-designer.css">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <pure-app>

    
    <pds-jsonform></pds-jsonform>


    <main class="container">
      <h1>Schema Form Actions Demo</h1>
      <p>Different ways to customize form action buttons</p>

      <section class="card">
        <h2>1. Default Buttons</h2>
        <p>No configuration needed - includes Submit and Reset buttons</p>
        <pds-jsonform-demo-1></pds-jsonform-demo-1>
      </section>

      <section class="card">
        <h2>2. Custom Labels</h2>
        <p>Change button text with <code>submit-label</code> and <code>reset-label</code></p>
        <pds-jsonform-demo-2></pds-jsonform-demo-2>
      </section>

      <section class="card">
        <h2>3. Hide Reset Button</h2>
        <p>Use <code>hide-reset</code> for simple forms</p>
        <pds-jsonform-demo-3></pds-jsonform-demo-3>
      </section>

      <section class="card">
        <h2>4. Extra Buttons (Slot)</h2>
        <p>Add custom buttons alongside defaults using <code>slot="actions"</code></p>
        <pds-jsonform-demo-4></pds-jsonform-demo-4>
      </section>

      <section class="card">
        <h2>5. Completely Custom Actions</h2>
        <p>Hide defaults with <code>hide-actions</code> and provide your own</p>
        <pds-jsonform-demo-5></pds-jsonform-demo-5>
      </section>
    </main>
  </pure-app>

  <script type="module" src="assets/js/app.js"></script>
  <script type="module">
    import { LitElement, html } from '/assets/js/lit.js';

    const simpleSchema = {
      type: "object",
      title: "Contact Form",
      properties: {
        name: { type: "string", title: "Name", default: "John Doe" },
        email: { type: "string", title: "Email", format: "email", default: "john@example.com" },
        message: { type: "string", title: "Message" },
        pets: {
          type: "array",
          title: "Pets",
          items: { type: "string", enum: ["Dog", "Cat", "Fish", "Bird"] },
          uniqueItems: true,
          default: ["Dog"]
        }
      }
    };

    // Demo 1: Default buttons
    customElements.define('pds-jsonform-demo-1', class extends LitElement {
      createRenderRoot() { return this; }
      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener('pw:submit', (e) => {
          console.log('Demo 1 submitted:', e.detail);
          alert('Form submitted! Check console.');
        });
      }

      render() {
        return html`<pds-jsonform .jsonSchema=${simpleSchema}></pds-jsonform>`;
      }
    });

    // Demo 2: Custom labels
    customElements.define('pds-jsonform-demo-2', class extends LitElement {
      createRenderRoot() { return this; }
      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener('pw:submit', (e) => {
          console.log('Demo 2 submitted:', e.detail);
          alert('Form saved! Check console.');
        });
      }

      render() {
        return html`
          <pds-jsonform 
            .jsonSchema=${simpleSchema}
            submit-label="Save Changes"
            reset-label="Clear Form">
          </pds-jsonform>
        `;
      }
    });

    // Demo 3: Hide reset
    customElements.define('pds-jsonform-demo-3', class extends LitElement {
      createRenderRoot() { return this; }
      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener('pw:submit', (e) => {
          console.log('Demo 3 submitted:', e.detail);
          alert('Form submitted! Check console.');
        });
      }

      render() {
        return html`
          <pds-jsonform 
            .jsonSchema=${simpleSchema}
            hide-reset>
          </pds-jsonform>
        `;
      }
    });

    // Demo 4: Extra buttons via slot
    customElements.define('pds-jsonform-demo-4', class extends LitElement {
      createRenderRoot() { return this; }
      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener('pw:submit', (e) => {
          console.log('Demo 4 submitted:', e.detail);
          alert('Form submitted! Check console.');
        });
      }

      handleCancel() {
        alert('Form cancelled!');
      }

      render() {
        return html`
          <pds-jsonform .jsonSchema=${simpleSchema}>
            <button 
              type="button" 
              slot="actions" 
              class="btn" 
              @click=${this.handleCancel}>
              Cancel
            </button>
          </pds-jsonform>
        `;
      }
    });

    // Demo 5: Completely custom
    customElements.define('pds-jsonform-demo-5', class extends LitElement {
      createRenderRoot() { return this; }
      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener('pw:submit', (e) => {
          console.log('Demo 5 submitted:', e.detail);
          alert('Custom form submitted! Check console.');
        });
      }

      handlePreview() {
        const form = this.querySelector('pds-jsonform');
        console.log('Preview:', form.values);
        alert('Preview mode!\n\n' + JSON.stringify(form.values, null, 2));
      }

      handleSaveDraft() {
        const form = this.querySelector('pds-jsonform');
        console.log('Save draft:', form.values);
        alert('Draft saved!');
      }

      render() {
        return html`
          <pds-jsonform .jsonSchema=${simpleSchema} hide-actions>
            <div slot="actions" style="display: flex; gap: var(--spacing-3); flex-wrap: wrap;">
              <button type="submit" class="btn btn-primary">
                üíæ Save & Publish
              </button>
              <button type="button" class="btn" @click=${this.handleSaveDraft}>
                üìù Save Draft
              </button>
              <button type="reset" class="btn">
                üîÑ Reset
              </button>
              <button type="button" class="btn" @click=${this.handlePreview}>
                üëÅÔ∏è Preview
              </button>
            </div>
          </pds-jsonform>
        `;
      }
    });
  </script>
</body>
</html>
