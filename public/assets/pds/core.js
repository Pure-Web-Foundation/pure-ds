var De=Object.defineProperty;var Pe=(e,t)=>{for(var n in t)De(e,n,{get:t[n],enumerable:!0})};var Z=class{constructor(){this._mode="static",this._staticPaths={tokens:"/assets/pds/styles/pds-tokens.css.js",primitives:"/assets/pds/styles/pds-primitives.css.js",components:"/assets/pds/styles/pds-components.css.js",utilities:"/assets/pds/styles/pds-utilities.css.js",styles:"/assets/pds/styles/pds-styles.css.js"}}setLiveMode(){this._mode="live"}setStaticMode(t={}){this._mode="static",this._staticPaths={...this._staticPaths,...t}}async getStylesheet(t){if(this._mode==="live")return null;try{return(await import(this._staticPaths[t]))[t]}catch(n){console.error(`[PDS Registry] Failed to load static ${t}:`,n),console.error(`[PDS Registry] Looking for: ${this._staticPaths[t]}`),console.error("[PDS Registry] Make sure you've run 'npm run pds:build' and configured PDS.start() with the correct static.root path");let r=new CSSStyleSheet;return r.replaceSync("/* Failed to load "+t+" */"),r}}get mode(){return this._mode}get isLive(){return this._mode==="live"}},T=new Z;async function de(e,t=[],n=null){try{let r=n?.primitivesStylesheet?n.primitivesStylesheet:await T.getStylesheet("primitives");e.adoptedStyleSheets=[r,...t]}catch(r){let l=e.host?.tagName?.toLowerCase()||"unknown";console.error(`[PDS Adopter] <${l}> failed to adopt primitives:`,r),e.adoptedStyleSheets=t}}async function pe(e,t=["primitives"],n=[],r=null){try{let s=(await Promise.all(t.map(async c=>{if(r)switch(c){case"tokens":return r.tokensStylesheet;case"primitives":return r.primitivesStylesheet;case"components":return r.componentsStylesheet;case"utilities":return r.utilitiesStylesheet;default:break}return T.getStylesheet(c)}))).filter(c=>c!==null);e.adoptedStyleSheets=[...s,...n]}catch(l){let s=e.host?.tagName?.toLowerCase()||"unknown";console.error(`[PDS Adopter] <${s}> failed to adopt layers:`,l),e.adoptedStyleSheets=n}}function fe(e){let t=new CSSStyleSheet;return t.replaceSync(e),t}var me={FontWeights:{light:300,normal:400,medium:500,semibold:600,bold:700},LineHeights:{tight:1.25,normal:1.5,relaxed:1.75},BorderWidths:{hairline:.5,thin:1,medium:2,thick:3},RadiusSizes:{none:0,small:4,medium:8,large:16,xlarge:24,xxlarge:32},ShadowDepths:{none:"none",light:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",medium:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",deep:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",extreme:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},TransitionSpeeds:{fast:150,normal:250,slow:350},AnimationEasings:{linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",bounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},TouchTargetSizes:{compact:36,standard:44,comfortable:48,spacious:56},LinkStyles:{inline:"inline",block:"block",button:"button"},FocusStyles:{ring:"ring",outline:"outline",border:"border",glow:"glow"},TabSizes:{compact:2,standard:4,wide:8},SelectIcons:{chevron:"chevron",arrow:"arrow",caret:"caret",none:"none"},IconSizes:{xs:16,sm:20,md:24,lg:32,xl:48,"2xl":64,"3xl":96}};var te={};Pe(te,{deepMerge:()=>he,fragmentFromTemplateLike:()=>Me,isObject:()=>I,parseHTML:()=>ee});function I(e){return e&&typeof e=="object"&&!Array.isArray(e)}function he(e,t){let n={...e};return I(e)&&I(t)&&Object.keys(t).forEach(r=>{I(t[r])?r in e?n[r]=he(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function Me(e){let t=Array.isArray(e?.strings)?e.strings:[],n=Array.isArray(e?.values)?e.values:[],r=new Set,l=[],s=/(\s)(\.[\w-]+)=\s*$/;for(let a=0;a<t.length;a+=1){let w=t[a]??"",f=w.match(s);if(f&&a<n.length){let g=f[2].slice(1),L=`pds-val-${a}`;w=w.replace(s,`$1data-pds-prop="${g}:${L}"`),r.add(a)}l.push(w),a<n.length&&!r.has(a)&&l.push(`<!--pds-val-${a}-->`)}let c=document.createElement("template");c.innerHTML=l.join("");let S=(a,w)=>{let f=a.parentNode;if(!f)return;if(w==null){f.removeChild(a);return}let b=g=>{if(g!=null){if(g instanceof Node){f.insertBefore(g,a);return}if(Array.isArray(g)){g.forEach(L=>b(L));return}f.insertBefore(document.createTextNode(String(g)),a)}};b(w),f.removeChild(a)},_=document.createTreeWalker(c.content,NodeFilter.SHOW_COMMENT),m=[];for(;_.nextNode();){let a=_.currentNode;a?.nodeValue?.startsWith("pds-val-")&&m.push(a)}return m.forEach(a=>{let w=Number(a.nodeValue.replace("pds-val-",""));S(a,n[w])}),c.content.querySelectorAll("*").forEach(a=>{let w=a.getAttribute("data-pds-prop");if(!w)return;let[f,b]=w.split(":"),g=Number(String(b).replace("pds-val-",""));f&&Number.isInteger(g)&&(a[f]=n[g]),a.removeAttribute("data-pds-prop")}),c.content}function ee(e){return new DOMParser().parseFromString(e,"text/html").body.childNodes}var we="pds",Te=/^([a-z][a-z0-9+\-.]*:)?\/\//i,ye=/^[a-z]:/i;function C(e=""){return e.endsWith("/")?e:`${e}/`}function Ue(e="",t=we){let n=e.replace(/\/+$/,"");return new RegExp(`(?:^|/)${t}$`,"i").test(n)?n:`${n}/${t}`}function ke(e){return e.replace(/^\.\/+/,"")}function Ce(e){return ye.test(e)?e.replace(ye,"").replace(/^\/+/,""):e}function je(e){return e.startsWith("public/")?e.substring(7):e}function N(e,t={}){let n=t.segment||we,r=t.defaultRoot||`/assets/${n}/`,l=e?.public&&e.public?.root||e?.static&&e.static?.root||null;if(!l||typeof l!="string")return C(r);let s=l.trim();return s?(s=s.replace(/\\/g,"/"),s=Ue(s,n),s=C(s),Te.test(s)?s:(s=ke(s),s=Ce(s),s.startsWith("/")||(s=je(s),s.startsWith("/")||(s=`/${s}`),s=s.replace(/\/+/g,(c,S)=>S===0?c:"/")),C(s))):C(r)}async function $e(...e){let t={};e.length&&typeof e[e.length-1]=="object"&&(t=e.pop()||{});let n=e,{baseURL:r,mapper:l=m=>`${m}.js`,onError:s=(m,i)=>console.error(`[defineWebComponents] ${m}:`,i)}=t,c=r?new URL(r,typeof location<"u"?location.href:import.meta.url):new URL("./",import.meta.url),S=m=>m.toLowerCase().replace(/(^|-)([a-z])/g,(i,a,w)=>w.toUpperCase()),_=async m=>{try{if(customElements.get(m))return{tag:m,status:"already-defined"};let i=l(m),w=await import(i instanceof URL?i.href:new URL(i,c).href),f=w?.default??w?.[S(m)];if(!f){if(customElements.get(m))return{tag:m,status:"self-defined"};throw new Error(`No export found for ${m}. Expected default export or named export "${S(m)}".`)}return customElements.get(m)?{tag:m,status:"race-already-defined"}:(customElements.define(m,f),{tag:m,status:"defined"})}catch(i){throw s(m,i),i}};return Promise.all(n.map(_))}var z=class{constructor(t={}){let{baseURL:n,mapper:r,onError:l,predicate:s=()=>!0,attributeModule:c="data-module",root:S=document,scanExisting:_=!0,debounceMs:m=16,observeShadows:i=!0,enhancers:a=[],patchAttachShadow:w=!0}=t,f=new Set,b=new Set,g=new Set,L=new Map,R=new WeakMap,A=new WeakMap,E=0,h=!1,y=null,D=u=>{if(!u||!a.length)return;let p=A.get(u);p||(p=new Set,A.set(u,p));for(let d of a)if(!(!d.selector||!d.run)&&!p.has(d.selector))try{u.matches&&u.matches(d.selector)&&(d.run(u),p.add(d.selector))}catch(v){console.warn(`[AutoDefiner] Error applying enhancer for selector "${d.selector}":`,v)}},k=(u,p)=>{if(!h&&!(!u||!u.includes("-"))&&!customElements.get(u)&&!b.has(u)&&!g.has(u)){if(p&&p.getAttribute){let d=p.getAttribute(c);d&&!L.has(u)&&L.set(u,d)}f.add(u),X()}},X=()=>{E||(E=setTimeout(ce,m))},P=u=>{if(u){if(u.nodeType===1){let p=u,d=p.tagName?.toLowerCase();d&&d.includes("-")&&!customElements.get(d)&&s(d,p)&&k(d,p),D(p),i&&p.shadowRoot&&Y(p.shadowRoot)}u.querySelectorAll&&u.querySelectorAll("*").forEach(p=>{let d=p.tagName?.toLowerCase();d&&d.includes("-")&&!customElements.get(d)&&s(d,p)&&k(d,p),D(p),i&&p.shadowRoot&&Y(p.shadowRoot)})}},Y=u=>{if(!u||R.has(u))return;P(u);let p=new MutationObserver(d=>{for(let v of d)v.addedNodes?.forEach(M=>{P(M)}),v.type==="attributes"&&v.target&&P(v.target)});p.observe(u,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[c,...a.map(d=>d.selector).filter(d=>d.startsWith("data-"))]}),R.set(u,p)};async function ce(){if(clearTimeout(E),E=0,!f.size)return;let u=Array.from(f);f.clear(),u.forEach(p=>b.add(p));try{let p=d=>L.get(d)??(r?r(d):`${d}.js`);await $e(...u,{baseURL:n,mapper:p,onError:(d,v)=>{g.add(d),l?.(d,v)}})}catch{}finally{u.forEach(p=>b.delete(p))}}let le=S===document?document.documentElement:S,ue=new MutationObserver(u=>{for(let p of u)p.addedNodes?.forEach(d=>{P(d)}),p.type==="attributes"&&p.target&&P(p.target)});if(ue.observe(le,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[c,...a.map(u=>u.selector).filter(u=>u.startsWith("data-"))]}),i&&w&&Element.prototype.attachShadow){let u=Element.prototype.attachShadow;Element.prototype.attachShadow=function(d){let v=u.call(this,d);if(d&&d.mode==="open"){Y(v);let M=this.tagName?.toLowerCase();M&&M.includes("-")&&!customElements.get(M)&&k(M,this)}return v},y=()=>Element.prototype.attachShadow=u}return _&&P(le),{stop(){h=!0,ue.disconnect(),y&&y(),E&&(clearTimeout(E),E=0),R.forEach(u=>u.disconnect())},flush:ce}}static async define(...t){let n={};t.length&&typeof t[t.length-1]=="object"&&(n=t.pop()||{});let r=t,{baseURL:l,mapper:s=i=>`${i}.js`,onError:c=(i,a)=>console.error(`[defineWebComponents] ${i}:`,a)}=n,S=l?new URL(l,typeof location<"u"?location.href:import.meta.url):new URL("./",import.meta.url),_=i=>i.toLowerCase().replace(/(^|-)([a-z])/g,(a,w,f)=>f.toUpperCase()),m=async i=>{try{if(customElements.get(i))return{tag:i,status:"already-defined"};let a=s(i),f=await import(a instanceof URL?a.href:new URL(a,S).href),b=f?.default??f?.[_(i)];if(!b){if(customElements.get(i))return{tag:i,status:"self-defined"};throw new Error(`No export found for ${i}. Expected default export or named export "${_(i)}".`)}return customElements.get(i)?{tag:i,status:"race-already-defined"}:(customElements.define(i,b),{tag:i,status:"defined"})}catch(a){throw c(i,a),a}};return Promise.all(r.map(m))}};var Oe=/^[a-z][a-z0-9+\-.]*:\/\//i,j=(()=>{try{return import.meta.url}catch{return}})(),F=e=>typeof e=="string"&&e.length&&!e.endsWith("/")?`${e}/`:e;function W(e,t={}){if(!e||Oe.test(e))return e;let{preferModule:n=!0}=t,r=()=>{if(!j)return null;try{return new URL(e,j).href}catch{return null}},l=()=>{if(typeof window>"u"||!window.location?.origin)return null;try{return new URL(e,window.location.origin).href}catch{return null}};return(n?r()||l():l()||r())||e}var ge=(()=>{if(j)try{let e=new URL(j);if(/\/public\/assets\/js\//.test(e.pathname))return new URL("../pds/",j).href}catch{return}})(),Ee=!1;function Se(e){Ee||typeof document>"u"||(Ee=!0,e.addEventListener("pds:ready",t=>{let n=t.detail?.mode;n&&document.documentElement.classList.add(`pds-${n}`,"pds-ready")}))}function be({manageTheme:e,themeStorageKey:t,applyResolvedTheme:n,setupSystemListenerIfNeeded:r}){let l="light",s=null;if(e&&typeof window<"u"){try{s=localStorage.getItem(t)||null}catch{s=null}try{n?.(s),r?.(s)}catch{}s?s==="system"?l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":l=s:l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return{resolvedTheme:l,storedTheme:s}}function B(e,{resolvePublicAssetURL:t}){let n=!!(e?.public?.root||e?.static?.root),r=t(e);return!n&&ge&&(r=ge),F(W(r))}async function Le(e,{baseEnhancers:t=[]}={}){let{autoDefineBaseURL:n="/auto-define/",autoDefinePreload:r=[],autoDefineMapper:l=null,enhancers:s=[],autoDefineOverrides:c=null,autoDefinePreferModule:S=!0}=e,_=(()=>{let i=new Map;return(t||[]).forEach(a=>i.set(a.selector,a)),(s||[]).forEach(a=>i.set(a.selector,a)),Array.from(i.values())})(),m=null;if(typeof window<"u"&&typeof document<"u"){let i=z,a=h=>{switch(h){case"pds-tabpanel":return"pds-tabstrip.js";default:return`${h}.js`}},{mapper:w,enhancers:f,...b}=c&&typeof c=="object"?c:{},g=f?Array.isArray(f)?f:typeof f=="object"?Object.values(f):[]:[],L=(()=>{let h=new Map;return(_||[]).forEach(y=>{y?.selector&&h.set(y.selector,y)}),(g||[]).forEach(y=>{if(!y?.selector)return;let D=h.get(y.selector)||null;h.set(y.selector,{...D||{},...y,run:typeof y?.run=="function"?y.run:D?.run})}),Array.from(h.values())})(),A={baseURL:n&&F(W(n,{preferModule:S})),predefine:r,scanExisting:!0,observeShadows:!0,patchAttachShadow:!0,debounceMs:16,enhancers:L,onError:(h,y)=>{if(typeof h=="string"&&h.startsWith("pds-")){let k=["pds-form","pds-drawer"].includes(h),X=y?.message?.includes("#pds/lit")||y?.message?.includes("Failed to resolve module specifier");k&&X?console.error(`\u274C PDS component <${h}> requires Lit but #pds/lit is not in import map.
              See: https://github.com/Pure-Web-Foundation/pure-ds/blob/main/readme.md#lit-components-not-working`):console.warn(`\u26A0\uFE0F PDS component <${h}> not found. Assets may not be installed.`)}else console.error(`\u274C Auto-define error for <${h}>:`,y)},...b,mapper:h=>{if(customElements.get(h))return null;if(typeof l=="function")try{let y=l(h);return y===void 0?a(h):y}catch(y){return console.warn("Custom autoDefine.mapper error; falling back to default:",y?.message||y),a(h)}return a(h)}};if(!!(typeof window<"u"&&window.__PDS_DEBUG_AUTODEFINE__||c?.debugAutoDefine)){let h=L.filter(y=>typeof y?.run!="function").map(y=>y?.selector).filter(Boolean);console.info("[PDS][AutoDefiner] enhancer summary",{baseEnhancers:(t||[]).length,userEnhancers:(s||[]).length,overrideEnhancers:g.length,resolvedEnhancers:L.length,missingRun:h})}m=new i(A),r.length>0&&typeof i.define=="function"&&await i.define(...r,{baseURL:n,mapper:A.mapper,onError:A.onError})}return{autoDefiner:m,mergedEnhancers:_}}var ne=["light","dark"],re=new Set(ne);function Ie(e){let n=(Array.isArray(e?.themes)?e.themes.map(r=>String(r).toLowerCase()):ne).filter(r=>re.has(r));return n.length?n:ne}function se(e,{preferDocument:t=!0}={}){let n=String(e||"").toLowerCase();if(re.has(n))return n;if(t&&typeof document<"u"){let r=document.documentElement?.getAttribute("data-theme");if(re.has(r))return r}return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function _e(e,t){let n=se(t);return Ie(e).includes(n)}var ae=class extends EventTarget{},o=new ae;o.initializing=!1;o.currentPreset=null;o.debug=!1;var q=null,V=null,H=null,G=null;function K(e,t){return t&&typeof t=="string"?t:`${B(o.currentConfig||{},{resolvePublicAssetURL:N})}core/${e}`}async function Ne(){return Array.isArray(o.defaultEnhancers)&&o.defaultEnhancers.length>0?o.defaultEnhancers:(G||(G=import(K("pds-enhancers.js",o.currentConfig?.enhancersURL)).then(t=>{let n=Array.isArray(t?.defaultPDSEnhancers)?t.defaultPDSEnhancers:[];return o.defaultEnhancers=n,n}).catch(t=>{throw G=null,t})),G)}async function ze(){return typeof o.ask=="function"&&o.ask!==Ae?o.ask:(V||(V=import(K("pds-ask.js",o.currentConfig?.askURL)).then(t=>{let n=t?.ask;if(typeof n!="function")throw new Error("Failed to load ask helper");return o.ask=n,n}).catch(t=>{throw V=null,t})),V)}async function O(){return typeof o.toast=="function"&&o.toast!==U?o.toast:(H||(H=import(K("pds-toast.js",o.currentConfig?.toastURL)).then(t=>{let n=t?.toast;if(typeof n!="function")throw new Error("Failed to load toast helper");return o.toast=n,n}).catch(t=>{throw H=null,t})),H)}async function Ae(...e){return(await ze())(...e)}async function U(...e){return(await O())(...e)}U.success=async(...e)=>(await O()).success(...e);U.error=async(...e)=>(await O()).error(...e);U.warning=async(...e)=>(await O()).warning(...e);U.info=async(...e)=>(await O()).info(...e);var ve=function(e="log",t,...n){let r=!!(o.registry&&!o.registry.isLive),l=(this?.debug||this?.design?.debug||o.debug||!1)===!0;if(r){if(!o.debug)return}else if(!l&&e!=="error"&&e!=="warn")return;let s=console[e]||console.log;n.length>0?s(t,...n):s(t)};function ie(e){if(e==null)return e;if(typeof e=="function")return;if(typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>ie(n)).filter(n=>n!==void 0);let t={};for(let[n,r]of Object.entries(e)){let l=ie(r);l!==void 0&&(t[n]=l)}return t}async function Fe(e,t={}){if(t?.runtimeConfig===!1||typeof fetch!="function")return null;let n=t?.runtimeConfigURL||`${e}pds-runtime-config.json`;try{let r=await fetch(n,{cache:"no-store"});return r.ok?await r.json():null}catch{return null}}o.registry=T;o.enums=me;o.adoptLayers=pe;o.adoptPrimitives=de;o.parse=ee;o.createStylesheet=fe;o.isLiveMode=()=>T.isLive;o.ask=Ae;o.toast=U;o.common=te;o.AutoComplete=null;o.loadAutoComplete=async()=>{if(o.AutoComplete&&typeof o.AutoComplete.connect=="function")return o.AutoComplete;let e=K("pds-autocomplete.js",o.currentConfig?.autoCompleteURL);return q||(q=import(e).then(t=>{let n=t?.AutoComplete||t?.default?.AutoComplete||t?.default||null;if(!n)throw new Error("AutoComplete export not found in module");return o.AutoComplete=n,n}).catch(t=>{throw q=null,t})),q};function Re(e){let t=typeof CustomEvent=="function";try{let n=t?new CustomEvent("pds:ready",{detail:e}):new Event("pds:ready");o.dispatchEvent(n)}catch{}if(typeof document<"u")if(t){let n={detail:e,bubbles:!0,composed:!0};try{document.dispatchEvent(new CustomEvent("pds:ready",n))}catch{}try{document.dispatchEvent(new CustomEvent("pds-ready",n))}catch{}}else{try{document.dispatchEvent(new Event("pds:ready"))}catch{}try{document.dispatchEvent(new Event("pds-ready"))}catch{}}}function xe(e={}){let t=typeof CustomEvent=="function",n={at:Date.now(),...e};try{let r=t?new CustomEvent("pds:config-changed",{detail:n}):new Event("pds:config-changed");o.dispatchEvent(r)}catch{}if(typeof document<"u")if(t){let r={detail:n,bubbles:!0,composed:!0};try{document.dispatchEvent(new CustomEvent("pds:config-changed",r))}catch{}}else try{document.dispatchEvent(new Event("pds:config-changed"))}catch{}}var oe="pure-ds-theme",x=null,$=null;function Q(e){try{if(typeof document>"u")return;let t="light";e?e==="system"?t=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t=e:t=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",document.documentElement.setAttribute("data-theme",t)}catch{}}function J(e){try{if(x&&$){try{typeof x.removeEventListener=="function"?x.removeEventListener("change",$):typeof x.removeListener=="function"&&x.removeListener($)}catch{}x=null,$=null}if(e==="system"&&typeof window<"u"&&window.matchMedia){let t=window.matchMedia("(prefers-color-scheme: dark)"),n=r=>{let l=r?.matches===void 0?t.matches:r.matches;try{let s=l?"dark":"light";document.documentElement.setAttribute("data-theme",s),o.dispatchEvent(new CustomEvent("pds:theme:changed",{detail:{theme:s,source:"system"}}))}catch{}};x=t,$=n,typeof t.addEventListener=="function"?t.addEventListener("change",n):typeof t.addListener=="function"&&t.addListener(n)}}catch{}}Object.defineProperty(o,"theme",{get(){try{return typeof window>"u"?null:localStorage.getItem(oe)||null}catch{return null}},set(e){try{if(typeof window>"u")return;let t=o.currentConfig?.design||null,n=se(e);if(t&&!_e(t,n)){let r=t?.name||o.currentPreset?.name||o.currentConfig?.preset||"current preset";console.warn(`PDS theme "${n}" not supported by preset "${r}".`),o.dispatchEvent(new CustomEvent("pds:theme:blocked",{detail:{theme:e,resolvedTheme:n,preset:r}}));return}e==null?localStorage.removeItem(oe):localStorage.setItem(oe,e),Q(e),J(e),o.dispatchEvent(new CustomEvent("pds:theme:changed",{detail:{theme:e,source:"api"}}))}catch{}}});o.defaultEnhancers=[];async function We(e){let t=e&&e.mode||"live",{mode:n,...r}=e||{};if(t==="static")return Be(r);let l=B(r,{resolvePublicAssetURL:N}),s=r?.managerURL||r?.public?.managerURL||r?.manager?.url||new URL("core/pds-manager.js",l).href||new URL("./pds-manager.js",import.meta.url).href,{startLive:c}=await import(s);return c(o,r,{emitReady:Re,emitConfigChanged:xe,applyResolvedTheme:Q,setupSystemListenerIfNeeded:J})}o.start=We;async function Be(e){if(!e||typeof e!="object")throw new Error("PDS.start({ mode: 'static', ... }) requires a valid configuration object");let t=e.applyGlobalStyles??!0,n=e.manageTheme??!0,r=e.themeStorageKey??"pure-ds-theme",l=e.staticPaths??{},s=B(e,{resolvePublicAssetURL:N}),c=e&&e.autoDefine||null,S;c&&c.baseURL?S=F(W(c.baseURL,{preferModule:!1})):S=`${s}components/`;let _=c&&Array.isArray(c.predefine)&&c.predefine||[],m=c&&typeof c.mapper=="function"&&c.mapper||null;try{Se(o);let{resolvedTheme:i}=be({manageTheme:n,themeStorageKey:r,applyResolvedTheme:Q,setupSystemListenerIfNeeded:J}),a=await Fe(s,e),w=Array.isArray(e?.enhancers)?e.enhancers:e?.enhancers&&typeof e.enhancers=="object"?Object.values(e.enhancers):[],f=a?.config?{...a.config,...e,design:e?.design||a.config.design,preset:e?.preset||a.config.preset}:{...e},b={tokens:`${s}styles/pds-tokens.css.js`,primitives:`${s}styles/pds-primitives.css.js`,components:`${s}styles/pds-components.css.js`,utilities:`${s}styles/pds-utilities.css.js`,styles:`${s}styles/pds-styles.css.js`},g=a?.paths||{};if(l={...b,...g,...l},o.registry.setStaticMode(l),t&&typeof document<"u")try{let E=await o.registry.getStylesheet("styles");if(E){E._pds=!0;let h=(document.adoptedStyleSheets||[]).filter(y=>y._pds!==!0);document.adoptedStyleSheets=[...h,E],xe({mode:"static",source:"static:styles-applied"})}}catch(E){ve.call(o,"warn","Failed to apply static styles:",E)}let L=null,R=[];try{let E=await Ne(),h=await Le({autoDefineBaseURL:S,autoDefinePreload:_,autoDefineMapper:m,enhancers:w,autoDefineOverrides:c||null,autoDefinePreferModule:!(c&&c.baseURL)},{baseEnhancers:E});L=h.autoDefiner,R=h.mergedEnhancers||[]}catch(E){ve.call(o,"error","\u274C Failed to initialize AutoDefiner/Enhancers (static):",E)}let A=ie(e);return o.currentConfig=Object.freeze({mode:"static",...structuredClone(A),design:structuredClone(f.design||{}),preset:f.preset,theme:i,enhancers:R}),Re({mode:"static",config:f,theme:i,autoDefiner:L}),{config:f,theme:i,autoDefiner:L}}catch(i){throw o.dispatchEvent(new CustomEvent("pds:error",{detail:{error:i}})),i}}var at=Q,it=J;export{o as PDS,at as applyResolvedTheme,it as setupSystemListenerIfNeeded};
