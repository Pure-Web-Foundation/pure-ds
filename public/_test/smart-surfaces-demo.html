<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Surfaces Demo - Pure Design System</title>
  <link rel="stylesheet" href="/assets/css/styles.css" />
  
  <!-- Import map to resolve virtual specifier for Lit used by PDS components -->
  <script type="importmap">
    {
      "imports": {
        "#pds/lit": "/assets/js/lit.js"
      }
    }
  </script>
  <script type="module" src="/assets/js/app.js" defer></script>
  <style>
    /* Demo-specific styles */
    .demo-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--spacing-6);
    }

    .demo-section {
      margin-bottom: var(--spacing-12);
      scroll-margin-top: var(--spacing-8);
    }

    .demo-section h2 {
      margin-bottom: var(--spacing-4);
      padding-bottom: var(--spacing-3);
      border-bottom: 2px solid var(--color-primary-500);
    }

    .demo-section h3 {
      margin-top: var(--spacing-6);
      margin-bottom: var(--spacing-3);
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--spacing-6);
      margin-bottom: var(--spacing-6);
    }

    .demo-example {
      padding: var(--spacing-4);
      border-radius: var(--radius-md);
      border: 2px dashed var(--color-gray-300);
    }

    .nesting-demo {
      padding: var(--spacing-6);
    }

    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: var(--spacing-4);
    }

    .icon-example {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--spacing-2);
      padding: var(--spacing-4);
      border-radius: var(--radius-md);
      text-align: center;
      font-size: var(--font-size-sm);
    }

    .shadow-demo-box {
      padding: var(--spacing-8);
      text-align: center;
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-4);
    }

    .inversion-demo {
      padding: var(--spacing-8);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-4);
    }

    .container-demo {
      padding: var(--spacing-6);
      border-radius: var(--radius-lg);
      margin-bottom: var(--spacing-4);
    }

    code-block {
      display: block;
      margin: var(--spacing-4) 0;
    }
  </style>
</head>
<body>
  <main>
    <div class="demo-container">
      <header style="text-align: center; margin-bottom: var(--spacing-12);">
        <h1>Smart Surfaces Demo</h1>
        <p class="lead">Context-aware colors, shadows, borders, and icons that automatically adapt to any surface</p>
      </header>

      <!-- TOC -->
      <nav class="surface-elevated" style="padding: var(--spacing-6); border-radius: var(--radius-lg); margin-bottom: var(--spacing-8);">
        <h2>Quick Navigation</h2>
        <ul>
          <li><a href="#containers">Container System</a></li>
          <li><a href="#nested-surfaces">Nested Surfaces</a></li>
          <li><a href="#inversion">Surface Inversion (Dark-on-Light)</a></li>
          <li><a href="#smart-shadows">Context-Aware Shadows</a></li>
          <li><a href="#smart-icons">Context-Aware Icons</a></li>
          <li><a href="#smart-text">Context-Aware Text</a></li>
          <li><a href="#smart-borders">Context-Aware Borders</a></li>
          <li><a href="#grouping">Layout Groups & Special Classes</a></li>
        </ul>
      </nav>

      <!-- Container System -->
      <section id="containers" class="demo-section">
        <h2>Container System</h2>
        <p>Smart containers automatically apply the correct text colors, icon colors, shadows, and borders based on their background.</p>

        <h3>Base Surface (.surface-base)</h3>
        <div class="surface-base container-demo">
          <h4>Base Surface Container</h4>
          <p>This is the default surface. Text, icons, and shadows automatically adapt.</p>
          <p><pds-icon name="house"></pds-icon> Icon color is automatically calculated for contrast</p>
          <button class="btn-primary">Primary Button</button>
          <button class="btn-secondary">Secondary Button</button>
        </div>

        <h3>Elevated Surface (.surface-elevated)</h3>
        <div class="surface-elevated container-demo">
          <h4>Elevated Surface Container</h4>
          <p>Elevated surfaces get automatically adjusted shadows that work in both light and dark modes.</p>
          <p><pds-icon name="arrow-up"></pds-icon> Icons maintain proper contrast</p>
          <div class="demo-grid">
            <div class="card">
              <h5>Card on Elevated Surface</h5>
              <p>Nested cards work seamlessly</p>
            </div>
            <div class="card">
              <h5>Another Card</h5>
              <p><pds-icon name="check-circle"></pds-icon> All elements adapt</p>
            </div>
          </div>
        </div>

        <h3>Sunken Surface (.surface-sunken)</h3>
        <div class="surface-sunken container-demo">
          <h4>Sunken Surface Container</h4>
          <p>Perfect for input fields and recessed areas. Borders are automatically computed.</p>
          <input type="text" placeholder="Notice the automatic border color" />
        </div>

        <h3>Overlay Surface (.surface-overlay)</h3>
        <div class="surface-overlay container-demo">
          <h4>Overlay Surface Container</h4>
          <p>Overlays get stronger shadows and proper text contrast for modals and popovers.</p>
          <p><pds-icon name="x"></pds-icon> Close icons maintain visibility</p>
        </div>
      </section>

      <!-- Nested Surfaces -->
      <section id="nested-surfaces" class="demo-section">
        <h2>Nested Surfaces</h2>
        <p>Surfaces can be nested infinitely. Each level maintains proper contrast and visual hierarchy.</p>

        <div class="surface-base nesting-demo">
          <h4>Level 1: Base Surface</h4>
          <p><pds-icon name="circle"></pds-icon> Notice how icons adapt at each level</p>
          
          <div class="surface-elevated" style="padding: var(--spacing-6); margin-top: var(--spacing-4);">
            <h5>Level 2: Elevated Surface</h5>
            <p><pds-icon name="arrow-right"></pds-icon> Shadows and text colors automatically adjust</p>
            
            <div class="card" style="margin-top: var(--spacing-4);">
              <h6>Level 3: Card</h6>
              <p><pds-icon name="check"></pds-icon> Perfect contrast maintained</p>
              
              <div class="surface-sunken" style="padding: var(--spacing-4); margin-top: var(--spacing-3);">
                <p><small>Level 4: Sunken surface inside card</small></p>
                <p><pds-icon name="info"></pds-icon> Icons remain readable</p>
              </div>
            </div>
          </div>
        </div>

        <h3>Nested Cards Example</h3>
        <div class="demo-grid">
          <div class="card">
            <h5>Parent Card</h5>
            <div class="card" style="margin-top: var(--spacing-4);">
              <h6>Nested Card</h6>
              <p>Automatically gets proper elevation</p>
              <div class="card" style="margin-top: var(--spacing-3);">
                <p><small>Triple Nested!</small></p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Surface Inversion -->
      <section id="inversion" class="demo-section">
        <h2>Surface Inversion (Dark-on-Light)</h2>
        <p>The smart surface system automatically inverts text and icon colors when you use a dark surface in light mode (or vice versa).</p>

        <h3>Dark Surface in Light Mode</h3>
        <div class="inversion-demo" style="background-color: var(--color-gray-900);">
          <h4>Automatic Inversion</h4>
          <p><pds-icon name="moon"></pds-icon> This dark surface automatically uses light text and icons</p>
          <p>Text remains perfectly readable with WCAG AA contrast ratios</p>
          <button class="btn-primary">Primary Button</button>
          <button class="btn-secondary">Secondary Button</button>
        </div>

        <h3>Various Dark Backgrounds</h3>
        <div class="demo-grid">
          <div class="inversion-demo" style="background-color: var(--color-primary-800);">
            <h5><pds-icon name="palette"></pds-icon> Primary 800</h5>
            <p>Text and icons auto-adapt</p>
          </div>
          <div class="inversion-demo" style="background-color: var(--color-accent-700);">
            <h5><pds-icon name="heart"></pds-icon> Accent 700</h5>
            <p>Perfect contrast maintained</p>
          </div>
          <div class="inversion-demo" style="background-color: var(--color-success-600);">
            <h5><pds-icon name="check-circle"></pds-icon> Success 600</h5>
            <p>Icons remain visible</p>
          </div>
        </div>

        <h3>Light Surface in Dark Mode</h3>
        <p><em>Toggle to dark mode using the theme switcher to see light surfaces automatically invert!</em></p>
      </section>

      <!-- Context-Aware Shadows -->
      <section id="smart-shadows" class="demo-section">
        <h2>Context-Aware Shadows</h2>
        <p>Shadows automatically adjust based on the surface background. Dark surfaces get light shadows, light surfaces get dark shadows.</p>

        <h3>Light Surface Shadows (Dark Shadows)</h3>
        <div class="surface-base" style="padding: var(--spacing-6);">
          <div class="demo-grid">
            <div class="shadow-demo-box surface-elevated">
              <h5>Elevated</h5>
              <p>Subtle dark shadow</p>
            </div>
            <div class="shadow-demo-box surface-overlay">
              <h5>Overlay</h5>
              <p>Stronger dark shadow</p>
            </div>
          </div>
        </div>

        <h3>Dark Surface Shadows (Light Shadows)</h3>
        <div class="surface-base" style="background-color: var(--color-gray-900); padding: var(--spacing-6);">
          <div class="demo-grid">
            <div class="shadow-demo-box" style="background-color: var(--color-gray-800); box-shadow: 0 2px 8px var(--surface-elevated-shadow);">
              <h5 style="color: white;">Elevated</h5>
              <p style="color: var(--color-gray-300);">Subtle light shadow</p>
            </div>
            <div class="shadow-demo-box" style="background-color: var(--color-gray-700); box-shadow: 0 4px 16px var(--surface-overlay-shadow);">
              <h5 style="color: white;">Overlay</h5>
              <p style="color: var(--color-gray-200);">Stronger light shadow</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Context-Aware Icons -->
      <section id="smart-icons" class="demo-section">
        <h2>Context-Aware Icons</h2>
        <p>Icons automatically use the correct color for their surface background, maintaining proper contrast.</p>

        <div class="demo-grid">
          <div class="surface-base icon-example">
            <pds-icon name="house" size="lg"></pds-icon>
            <span>Base Surface</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="arrow-up" size="lg"></pds-icon>
            <span>Elevated Surface</span>
          </div>
          <div class="surface-sunken icon-example">
            <pds-icon name="funnel" size="lg"></pds-icon>
            <span>Sunken Surface</span>
          </div>
          <div class="icon-example" style="background-color: var(--color-gray-900);">
            <pds-icon name="moon" size="lg"></pds-icon>
            <span style="color: white;">Dark Background</span>
          </div>
        </div>

        <h3>Icons in Various Contexts</h3>
        <div class="icon-grid">
          <div class="surface-elevated icon-example">
            <pds-icon name="check-circle" size="md"></pds-icon>
            <span>Success</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="warning" size="md"></pds-icon>
            <span>Warning</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="x-circle" size="md"></pds-icon>
            <span>Error</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="info" size="md"></pds-icon>
            <span>Info</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="gear" size="md"></pds-icon>
            <span>Settings</span>
          </div>
          <div class="surface-elevated icon-example">
            <pds-icon name="user" size="md"></pds-icon>
            <span>Profile</span>
          </div>
        </div>
      </section>

      <!-- Context-Aware Text -->
      <section id="smart-text" class="demo-section">
        <h2>Context-Aware Text Colors</h2>
        <p>Text automatically maintains WCAG AA contrast ratios on any surface.</p>

        <div class="demo-grid">
          <div class="surface-base" style="padding: var(--spacing-6);">
            <h5>Base Surface</h5>
            <p>Primary text: readable</p>
            <p style="color: var(--surface-base-text-secondary);">Secondary text: subtle</p>
            <p style="color: var(--surface-base-text-muted);">Muted text: very subtle</p>
          </div>

          <div class="surface-elevated" style="padding: var(--spacing-6);">
            <h5>Elevated Surface</h5>
            <p>Primary text: readable</p>
            <p style="color: var(--surface-elevated-text-secondary);">Secondary text: subtle</p>
            <p style="color: var(--surface-elevated-text-muted);">Muted text: very subtle</p>
          </div>

          <div style="background-color: var(--color-gray-900); padding: var(--spacing-6);">
            <h5 style="color: white;">Dark Surface</h5>
            <p style="color: white;">Primary text: readable</p>
            <p style="color: var(--color-gray-300);">Secondary text: subtle</p>
            <p style="color: var(--color-gray-500);">Muted text: very subtle</p>
          </div>
        </div>
      </section>

      <!-- Context-Aware Borders -->
      <section id="smart-borders" class="demo-section">
        <h2>Context-Aware Borders</h2>
        <p>Borders are semi-transparent and automatically adjust opacity based on the surface.</p>

        <div class="demo-grid">
          <div class="surface-base" style="padding: var(--spacing-6); border: 1px solid var(--surface-base-border);">
            <h5>Base Surface</h5>
            <p>Border adapts to background</p>
          </div>

          <div class="surface-elevated" style="padding: var(--spacing-6); border: 2px solid var(--surface-elevated-border);">
            <h5>Elevated Surface</h5>
            <p>Thicker border, still adaptive</p>
          </div>

          <div style="background-color: var(--color-gray-900); padding: var(--spacing-6); border: 1px solid rgba(255,255,255,0.15);">
            <h5 style="color: white;">Dark Surface</h5>
            <p style="color: var(--color-gray-300);">Light border on dark</p>
          </div>
        </div>
      </section>

      <!-- Layout Groups -->
      <section id="grouping" class="demo-section">
        <h2>Layout Groups & Special Classes</h2>
        <p>Combine surfaces with layout utilities for powerful UI patterns.</p>

        <h3>Card Grid (.card-grid utility)</h3>
        <div class="demo-grid">
          <div class="card">
            <h5><pds-icon name="palette"></pds-icon> Design</h5>
            <p>Smart surfaces handle theming automatically</p>
          </div>
          <div class="card">
            <h5><pds-icon name="code"></pds-icon> Development</h5>
            <p>Zero manual color overrides needed</p>
          </div>
          <div class="card">
            <h5><pds-icon name="rocket"></pds-icon> Performance</h5>
            <p>CSS custom properties are fast</p>
          </div>
        </div>

        <h3>Surface as Container (.surface-elevated + padding)</h3>
        <div class="surface-elevated" style="padding: var(--spacing-8);">
          <h4>Settings Panel</h4>
          <fieldset>
            <legend>Preferences</legend>
            <label>
              <input type="checkbox" checked />
              <span>Enable notifications</span>
            </label>
            <label>
              <input type="checkbox" />
              <span>Dark mode auto-switch</span>
            </label>
          </fieldset>

          <fieldset style="margin-top: var(--spacing-4);">
            <legend>Privacy</legend>
            <label>
              <input type="radio" name="privacy" checked />
              <span>Public</span>
            </label>
            <label>
              <input type="radio" name="privacy" />
              <span>Private</span>
            </label>
          </fieldset>

          <button class="btn-primary" style="margin-top: var(--spacing-4);">Save Changes</button>
        </div>

        <h3>Alert Variations</h3>
        <div class="alert alert-success">
          <pds-icon name="check-circle"></pds-icon>
          <strong>Success!</strong> Your changes have been saved.
        </div>

        <div class="alert alert-warning">
          <pds-icon name="warning"></pds-icon>
          <strong>Warning:</strong> This action cannot be undone.
        </div>

        <div class="alert alert-danger">
          <pds-icon name="x-circle"></pds-icon>
          <strong>Error:</strong> Something went wrong.
        </div>

        <div class="alert alert-info">
          <pds-icon name="info"></pds-icon>
          <strong>Info:</strong> Icons maintain proper contrast in all alert types.
        </div>
      </section>

      <footer style="text-align: center; padding: var(--spacing-8); margin-top: var(--spacing-12); border-top: 1px solid var(--color-border);">
        <p>
          <strong>Try it:</strong> Toggle between light and dark modes using the theme switcher. 
          Notice how all surfaces, icons, shadows, and text automatically adapt!
        </p>
      </footer>
    </div>
  </main>
</body>
</html>
